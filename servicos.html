<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Z56W62B846"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Z56W62B846');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Serviços Solicitados</title>
    <meta name="description" content="Veja a lista de serviços solicitados em Toledo - MG. Encontre profissionais qualificados para atender suas necessidades.">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <meta property="og:title" content="Serviços Solicitados">
    <meta property="og:description" content="Veja a lista de serviços solicitados em Toledo - MG. Encontre profissionais qualificados para atender suas necessidades.">
    <meta property="og:image" content="https://servicostoledo.com.br/images/og-image.png">
    <meta property="og:url" content="https://servicostoledo.com.br/servicos.html">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="icon" type="image/png"  href="images/favicon.jpg">
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- PapaParse para tratar CSV corretamente -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5133424908957621"
        crossorigin="anonymous"></script>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17500892314"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'AW-17500892314');
    </script>


    <style>
        .fade-in {
            animation: fadeIn 0.6s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>

<body class="bg-gray-100 text-gray-900">
    <!-- Header fixo -->
  <!-- Header fixo -->
<header class="fixed top-0 inset-x-0 z-50 bg-gray-900 backdrop-blur border-b border-gray-200">
  <div class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
    <a href="index.html" class="flex items-center gap-2">
      <img src="images/logo.png" alt="Logo Serviços Toledo" class="h-8">
      <span class="text-2xl font-extrabold tracking-tight text-white">ServiçosToledo</span>
    </a>

    <!-- Menu Desktop -->
    <nav class="hidden md:flex items-center gap-8 text-white font-semibold">
      <a href="index.html" class="hover:text-white">Início</a>
      <a href="contato.html" class="hover:text-white">Contato</a>
      <a href="buscar-prestador.html" class="hover:text-white">Buscar Prestador</a>
      <a href="servicos.html" class="hover:text-white">Verificar Serviços</a>
      <a href="quero-me-cadastrar.html"
         class="text-white bg-blue-600 px-4 py-2 rounded-lg hover:bg-blue-700 transition">
        Quero me cadastrar
      </a>

      <!-- Auth Section -->
      <div id="auth-desktop" class="flex items-center space-x-4">
        <!-- Botão login -->
        <a id="login-btn-desktop" href="login.html" 
           class="px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition">
          Entrar
        </a>
        <!-- Info do usuário -->
        <div id="user-info-desktop" class="hidden items-center space-x-3">
          <img id="user-pic-desktop" class="w-8 h-8 rounded-full border" alt="User">
          <span id="user-name-desktop" class="text-white font-semibold"></span>
          <button id="logout-btn-desktop" 
            class="px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700">
            Sair
          </button>
        </div>
      </div>
    </nav>

    <!-- Botão menu mobile -->
    <button id="menuBtn"
      class="md:hidden inline-flex items-center justify-center h-10 w-10 rounded-lg border border-white hover:bg-gray-800">
      <svg class="h-5 w-5" fill="none" stroke="white" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-width="2" d="M4 8h16M4 16h16" />
      </svg>
    </button>
  </div>

  <!-- Menu Mobile -->
  <div id="mobileMenu" class="md:hidden hidden px-6 pb-4">
    <div class="flex flex-col gap-3 font-semibold">
      <a href="index.html" class="py-2 border-b text-white">Início</a>
      <a href="buscar-prestador.html" class="py-2 border-b text-white">Buscar Prestador</a>
      <a href="contato.html" class="py-2 border-b text-white">Contato</a>
      <a href="servicos.html" class="py-2 border-b text-white">Verificar Serviços</a>
      <a href="quero-me-cadastrar.html" class="py-2 text-white bg-blue-600 rounded-lg text-center">Quero me cadastrar</a>

      <!-- Auth Section Mobile -->
      <div id="auth-mobile" class="flex items-center space-x-4">
        <a id="login-btn-mobile" href="login.html" 
           class="px-4 py-2 bg-green-600 text-white rounded-lg shadow hover:bg-green-700 transition w-full text-center">
          Entrar
        </a>
        <div id="user-info-mobile" class="hidden items-center space-x-3 w-full justify-between">
          <div class="flex items-center gap-2">
            <img id="user-pic-mobile" class="w-8 h-8 rounded-full border" alt="User">
            <span id="user-name-mobile" class="text-white font-semibold"></span>
          </div>
          <button id="logout-btn-mobile" 
            class="px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700">
            Sair
          </button>
        </div>
      </div>
    </div>
  </div>
</header>

<script>
  // Controle do menu mobile
  const menuBtn = document.getElementById('menuBtn');
  const mobileMenu = document.getElementById('mobileMenu');
  menuBtn.addEventListener('click', () => { 
    mobileMenu.classList.toggle('hidden'); 
  });

  // Função para carregar usuário
  function loadUser() {
    const user = JSON.parse(localStorage.getItem("user"));

    // Desktop
    const loginBtnDesktop = document.getElementById("login-btn-desktop");
    const userInfoDesktop = document.getElementById("user-info-desktop");
    const userNameDesktop = document.getElementById("user-name-desktop");
    const userPicDesktop = document.getElementById("user-pic-desktop");
    const logoutBtnDesktop = document.getElementById("logout-btn-desktop");

    // Mobile
    const loginBtnMobile = document.getElementById("login-btn-mobile");
    const userInfoMobile = document.getElementById("user-info-mobile");
    const userNameMobile = document.getElementById("user-name-mobile");
    const userPicMobile = document.getElementById("user-pic-mobile");
    const logoutBtnMobile = document.getElementById("logout-btn-mobile");

    if (user) {
      // Mostrar infos
      loginBtnDesktop.classList.add("hidden");
      userInfoDesktop.classList.remove("hidden");
      userNameDesktop.textContent = user.name;
      userPicDesktop.src = user.picture;

      loginBtnMobile.classList.add("hidden");
      userInfoMobile.classList.remove("hidden");
      userNameMobile.textContent = user.name;
      userPicMobile.src = user.picture;

      // Logout
      logoutBtnDesktop.addEventListener("click", () => {
        localStorage.removeItem("user");
        window.location.reload();
      });
      logoutBtnMobile.addEventListener("click", () => {
        localStorage.removeItem("user");
        window.location.reload();
      });
    }
  }

  document.addEventListener("DOMContentLoaded", loadUser);
</script>

    <main class="container mx-auto px-6 py-24">
        <h2 class="text-3xl font-bold text-center mb-8">Lista de Serviços Solicitados</h2>
        <h1 class="text-xl font-semibold text-center mb-8">Encontre o serviço que você precisa</h1>
        <img src="images/logo.png" alt="Profissionais em Toledo"
            class="mx-auto mb-6 rounded-xl shadow-lg max-h-32 w-auto">

        <!-- Barra de busca e ordenação -->
        <div class="flex flex-col md:flex-row gap-4 justify-between items-center mb-8">
            <input id="searchInput" type="text" placeholder="Buscar por nome, serviço ou endereço..."
                class="w-full md:w-1/2 p-3 border rounded-lg focus:ring-2 focus:ring-blue-500">
            <select id="sortSelect" class="p-3 border rounded-lg focus:ring-2 focus:ring-blue-500">
                <option value="recent">Mais recentes</option>
                <option value="oldest">Mais antigos</option>
            </select>
        </div>

        <!-- Loading -->
        <p id="loadingMsg" class="text-center text-gray-500">Carregando serviços...</p>

        <!-- Container dos serviços -->
        <div id="servicosContainer" class="grid gap-6 md:grid-cols-2 lg:grid-cols-3"></div>

        <!-- Estado vazio -->
        <p id="emptyMsg" class="text-center text-gray-500 hidden">Nenhum serviço encontrado.</p>
    </main>

    <script>
        const sheetCSV = "https://docs.google.com/spreadsheets/d/e/2PACX-1vTe4QVYs5vg-32hSClo1061Qswn7G7_X5EAlUgEY7Ru8urjayY02ygy50K_GEn8VBCk5qb0fbPdbMst/pub?output=csv";

        let allServices = [];

        fetch(sheetCSV)
            .then(res => res.text())
            .then(csv => {
                Papa.parse(csv, {
                    header: true,
                    skipEmptyLines: true,
                    complete: function (results) {
                        allServices = results.data;
                        document.getElementById("loadingMsg").classList.add("hidden");
                        renderServices(allServices);
                    }
                });
            })
            .catch(err => {
                console.error("Erro ao carregar CSV:", err);
                document.getElementById("loadingMsg").innerText = "Erro ao carregar serviços.";
            });

        function renderServices(data) {
            const container = document.getElementById("servicosContainer");
            container.innerHTML = "";
            const emptyMsg = document.getElementById("emptyMsg");

            if (data.length === 0) {
                emptyMsg.classList.remove("hidden");
                return;
            } else {
                emptyMsg.classList.add("hidden");
            }

            const fragment = document.createDocumentFragment();

            data.forEach(row => {
                const timestamp = row["Carimbo de data/hora"] || "-";
                const nome = row["Nome"] || "-";
                const telefone = row["Telefone"] || row["Whatsapp"] || "-";
                const servico = row["Serviço"] || row["Tipo de serviço"] || "-";
                const descricao = row["Descrição"] || row["  Descrição do problema  "] || "";
                const endereco = row["Endereço"] || "Toledo - MG";

                const card = document.createElement("div");
                card.className = "bg-white rounded-xl shadow-lg p-6 fade-in";
                card.innerHTML = `
        <h3 class="text-xl font-semibold mb-2 text-blue-600 text-center">${servico}</h3>
        <p><span class="font-bold">Nome:</span> ${nome}</p>
        <p class="mt-2"><span class="font-bold">Descrição:</span> ${descricao}</p>
        <p class="text-sm text-gray-500 mt-2">📅 ${timestamp}</p>
        <p class="text-sm text-gray-500 mt-2">📞 <a href="tel:${telefone}" class="text-blue-500">${telefone}</a></p>
        <p class="text-sm text-gray-500 mt-2">📍 ${endereco}</p>
        <a href="https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(endereco)}"
          target="_blank" class="text-blue-500 hover:underline mt-2 block">Ver no mapa</a>
      `;
                fragment.appendChild(card);
            });

            container.appendChild(fragment);
        }

        // 🔎 Busca
        document.getElementById("searchInput").addEventListener("input", (e) => {
            const term = e.target.value.toLowerCase();
            const filtered = allServices.filter(row =>
                (row["Nome"] || "").toLowerCase().includes(term) ||
                (row["Serviço"] || "").toLowerCase().includes(term) ||
                (row["Endereço"] || "").toLowerCase().includes(term)
            );
            renderServices(filtered);
        });

        // ↕️ Ordenação
        document.getElementById("sortSelect").addEventListener("change", (e) => {
            let sorted = [...allServices];
            if (e.target.value === "recent") {
                sorted.sort((a, b) => new Date(b["Carimbo de data/hora"]) - new Date(a["Carimbo de data/hora"]));
            } else {
                sorted.sort((a, b) => new Date(a["Carimbo de data/hora"]) - new Date(b["Carimbo de data/hora"]));
            }
            renderServices(sorted);
        });
    </script>
<style>
  /* Define a paleta de cores do Material Design 3 como CSS Variables */
  :root {
    --md-sys-color-primary: #346094; /* Um azul como cor primária */
    --md-sys-color-on-primary: #FFFFFF;
    --md-sys-color-surface-container: #EFF3F8; /* Fundo principal, um cinza bem claro */
    --md-sys-color-on-surface: #1A1C1E; /* Cor do texto principal */
    --md-sys-color-on-surface-variant: #43474E; /* Cor do texto secundário e ícones */
    --md-sys-color-outline: #74777F;
  }

  /* Define classes de componentes reutilizáveis sem @apply */
  .m3-title-medium {
    font-size: 1rem;
    font-weight: 600;
    letter-spacing: .009375em;
    color: var(--md-sys-color-on-surface);
  }
  .m3-border-color-outline {
    border-top: 1px solid var(--md-sys-color-outline);
    margin-top: 3rem;
    padding-top: 2rem;
    text-align: center;
    font-size: 0.875rem;
    line-height: 1.625;
    color: var(--md-sys-color-on-surface-variant);
  }
  .m3-body-medium {
    font-size: 0.875rem;
    line-height: 1.625;
    color: var(--md-sys-color-on-surface-variant);
  }
  .m3-label-large {
    font-size: 0.875rem;
    font-weight: 500;
    letter-spacing: 0.05em;
    color: var(--md-sys-color-primary);
  }
  .m3-footer-link {
    position: relative;
    border-radius: 0.375rem;
    padding: 0.25rem 0.5rem;
    color: var(--md-sys-color-on-surface-variant);
    transition: color 0.2s;
    outline: none;
  }
  .m3-footer-link:hover,
  .m3-footer-link:focus-visible {
    color: var(--md-sys-color-primary);
    background-color: #DBEAFE; /* blue-100 */
  }
  .m3-icon-button {
    position: relative;
    display: flex;
    height: 2.5rem;
    width: 2.5rem;
    align-items: center;
    justify-content: center;
    border-radius: 9999px;
    color: var(--md-sys-color-on-surface-variant);
    transition: background-color 0.2s, color 0.2s;
    outline: none;
  }
  .m3-icon-button:hover,
  .m3-icon-button:focus-visible {
    background-color: #DBEAFE; /* blue-100 */
    color: var(--md-sys-color-primary);
  }
  @media (prefers-color-scheme: dark) {
    :root {
      --md-sys-color-primary: #8AB4F8;
      --md-sys-color-on-primary: #000000; 
      --md-sys-color-surface-container: #1A1C1E;
      --md-sys-color-on-surface: #E1E2E5;
      --md-sys-color-on-surface-variant: #C1C4C9;
      --md-sys-color-outline: #5C5F66;
    }
    .m3-border-color-outline {    
      border-top-color: var(--md-sys-color-outline);
      color: var(--md-sys-color-on-surface-variant);  
    }
    .m3-footer-link {
      &:hover {
        background-color: #DBEAFE; /* blue-100 */
        color: var(--md-sys-color-primary);
      }
      &:focus-visible {
        outline: none;
        background-color: #DBEAFE; /* blue-100 */
        color: var(--md-sys-color-primary);
      }
    }
    .m3-icon-button {
      &:hover {
        background-color: #3B82F6; /* blue-500 */
        color: var(--md-sys-color-on-primary);
      }
      &:focus-visible {
        outline: none;
        background-color: #3B82F6; /* blue-500 */
        color: var(--md-sys-color-on-primary);
      }
    }
  }
</style>

<footer style="background-color: var(--md-sys-color-surface-container);">
      <svg class="absolute w-0 h-0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
        <symbol id="icon-facebook" viewBox="0 0 24 24">
          <path fill="currentColor"
            d="M22 12c0-5.52-4.48-10-10-10S2 6.48 2 12c0 4.84 3.44 8.87 8 9.8V15H8v-3h2V9.5C10 7.57 11.57 6 13.5 6H16v3h-2c-.55 0-1 .45-1 1v2h3v3h-3v6.95c5.05-.5 9-4.76 9-9.95z" />
        </symbol>
        <symbol id="icon-instagram" viewBox="0 0 24 24">
          <path fill="currentColor"
            d="M2 6a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V6zm4-2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H6zm6 4a4 4 0 1 1 0 8a4 4 0 0 1 0-8zm0 2a2 2 0 1 0 0 4a2 2 0 0 0 0-4zm5-3a1 1 0 1 1 0 2a1 1 0 0 1 0-2z" />
        </symbol>
        <symbol id="icon-linkedin" viewBox="0 0 24 24">
          <path fill="currentColor"
            d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14zm-12 5v10h3V11h-3zM8.5 6.5A1.5 1.5 0 1 0 7 8a1.5 1.5 0 0 0 1.5-1.5zM18 18h-3v-4.5c0-1.4-.8-2.5-2-2.5s-2 1.1-2 2.5V18h-3V11h3v1.5c.5-1 1.5-1.5 2.5-1.5s2.5 1 2.5 4.5V18z" />
        </symbol>
        <symbol id="icon-x-twitter" viewBox="0 0 24 24">
          <path fill="currentColor"
            d="M18.244 2.25h3.308l-7.227 8.26l8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" />
        </symbol>
      </svg>

      <div class="max-w-7xl mx-auto px-6 py-16">
        <div class="grid grid-cols-1 md:grid-cols-4 lg:grid-cols-5 gap-12 text-center md:text-left">
          <div class="lg:col-span-2 space-y-3">
            <h3 class="text-2xl font-bold text-[var(--md-sys-color-primary)]">ServiçosToledo</h3>
            <p class="m3-body-medium">
              Conectando você aos melhores prestadores de serviços em Toledo - MG.
            </p>
          </div>

          <div class="space-y-4">
            <h4 class="text-2xl font-bold text-[var(--md-sys-color-primary)]">Navegação</h4>
            <ul class="space-y-2">
              <li><a href="index.html" class="m3-footer-link">Início</a></li>
              <li><a href="buscar-prestador.html" class="m3-footer-link">Buscar Prestador</a></li>
              <li><a href="solicitar.html" class="m3-footer-link">Solicitar Serviço</a></li>
              <li><a href="quero-me-cadastrar.html" class="m3-footer-link">Quero me cadastrar</a></li>
            </ul>
          </div>

          <div class="space-y-4">
            <h4 class="text-2xl font-bold text-[var(--md-sys-color-primary)]">Suporte</h4>
            <ul class="space-y-2">
              <li><a href="/contato.html" class="m3-footer-link">Fale Conosco</a></li>
              <li><a href="https://digs-portifolio.netlify.app/" class="m3-footer-link">Meu Portfólio</a></li>
            </ul>
          </div>

          <div class="space-y-4">
            <h4 class="text-2xl font-bold text-[var(--md-sys-color-primary)]">Redes Sociais</h4>
            <div class="flex gap-2 justify-center md:justify-start">
              <a href="https://www.instagram.com/toledoservices/" class="m3-icon-button" aria-label="Instagram">
                <svg class="w-6 h-6" aria-hidden="true">
                  <use xlink:href="#icon-instagram" />
                </svg>
              </a>
              <a href="https://www.linkedin.com/in/diego-lima-da-silva-b068b2112" class="m3-icon-button"
                aria-label="LinkedIn">
                <svg class="w-6 h-6" aria-hidden="true">
                  <use xlink:href="#icon-linkedin" />
                </svg>
              </a>
            </div>
          </div>
        </div>

        <div class="m3-border-color-outline">
          <p>
            Desenvolvido por &copy; <span class="font-semibold text-[var(--md-sys-color-on-surface)]">DIGSWARE</span>
            <span id="current-year"></span>. Todos os direitos reservados.
          </p>
        </div>
      </div>
      <script>
        document.getElementById('current-year').textContent = new Date().getFullYear();
      </script>
    </footer>

</body>

</html>